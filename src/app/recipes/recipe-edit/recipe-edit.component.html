<form class="panel panel-default" (ngSubmit)="onSubmit()" [formGroup]="recipeForm" #form="ngForm">
    <div class="panel-heading">
        <input type="text" class="form-control" formControlName="recipeName">
    </div>
    <div class="panel-body media">
        <input type="text" formControlName="recipeImage" placeholder="Image URL" class="form-control">
        <div class="media-bottom">
            <ul class="list-group" formArrayName="ingredients">
                <li class="list-group-item" [formGroupName]="i" *ngFor="let ingredient of ingredients.controls; let i = index">
                    <input type="number" formControlName="amount" class="form-control">
                    <select name="unit" formControlName="unit" class="form-control">
                        <option value="">Count</option>
                        <option *ngFor="let unit of units | keyvalue" [value]="unit.key">{{unit.key}}</option>
                    </select>
                    <input type="text" formControlName="name" class="form-control">
                </li>
            </ul>
            <button class="btn btn-default" type="button" (click)="newIngredient()">Add Ingredient</button>
            <textarea formControlName="preparation" class="form-control"></textarea>
            <button class="btn btn-primary" type="submit">Save</button>
        </div>
    </div>
</form>